{
  "coa": {
    "by_family": {
      "cogs": {
        "credit_top1": 0.0,
        "credit_top3": 0.0,
        "debit_top1": 1.0,
        "debit_top3": 1.0,
        "examples": 299,
        "policy_credit_top1_blocked_rate": 0.0,
        "policy_credit_top1_discouraged_rate": 0.0,
        "policy_debit_top1_blocked_rate": 0.0,
        "policy_debit_top1_discouraged_rate": 0.0
      },
      "inventory_count": {
        "credit_top1": 0.0,
        "credit_top3": 0.0,
        "debit_top1": 0.0,
        "debit_top3": 0.0,
        "examples": 234,
        "policy_credit_top1_blocked_rate": 0.0,
        "policy_credit_top1_discouraged_rate": 0.0,
        "policy_debit_top1_blocked_rate": 0.0,
        "policy_debit_top1_discouraged_rate": 0.0
      },
      "payment": {
        "credit_top1": 0.8492217898832685,
        "credit_top3": 0.9610894941634242,
        "debit_top1": 0.8093385214007782,
        "debit_top3": 0.8093385214007782,
        "examples": 1028,
        "policy_credit_top1_blocked_rate": 0.0,
        "policy_credit_top1_discouraged_rate": 0.05933852140077821,
        "policy_debit_top1_blocked_rate": 0.0,
        "policy_debit_top1_discouraged_rate": 0.0632295719844358
      },
      "purchase": {
        "credit_top1": 1.0,
        "credit_top3": 1.0,
        "debit_top1": 0.0,
        "debit_top3": 0.0,
        "examples": 1510,
        "policy_credit_top1_blocked_rate": 0.0,
        "policy_credit_top1_discouraged_rate": 0.0,
        "policy_debit_top1_blocked_rate": 0.0,
        "policy_debit_top1_discouraged_rate": 0.0
      },
      "sale": {
        "credit_top1": 1.0,
        "credit_top3": 1.0,
        "debit_top1": 1.0,
        "debit_top3": 1.0,
        "examples": 2522,
        "policy_credit_top1_blocked_rate": 0.0,
        "policy_credit_top1_discouraged_rate": 0.0,
        "policy_debit_top1_blocked_rate": 0.0,
        "policy_debit_top1_discouraged_rate": 0.0
      },
      "write_off": {
        "credit_top1": 0.0,
        "credit_top3": 0.0,
        "debit_top1": 0.0,
        "debit_top3": 0.0,
        "examples": 228,
        "policy_credit_top1_blocked_rate": 0.0,
        "policy_credit_top1_discouraged_rate": 0.2149122807017544,
        "policy_debit_top1_blocked_rate": 0.0,
        "policy_debit_top1_discouraged_rate": 0.0
      }
    },
    "by_label": {
      "COGS": {
        "credit_top1": 0.0,
        "credit_top3": 0.0,
        "debit_top1": 1.0,
        "debit_top3": 1.0,
        "examples": 299
      },
      "INVENTORY_COUNT": {
        "credit_top1": 0.0,
        "credit_top3": 0.0,
        "debit_top1": 0.0,
        "debit_top3": 0.0,
        "examples": 234
      },
      "PAYMENT": {
        "credit_top1": 0.8492217898832685,
        "credit_top3": 0.9610894941634242,
        "debit_top1": 0.8093385214007782,
        "debit_top3": 0.8093385214007782,
        "examples": 1028
      },
      "PURCHASE": {
        "credit_top1": 1.0,
        "credit_top3": 1.0,
        "debit_top1": 0.0,
        "debit_top3": 0.0,
        "examples": 1510
      },
      "SALE": {
        "credit_top1": 1.0,
        "credit_top3": 1.0,
        "debit_top1": 1.0,
        "debit_top3": 1.0,
        "examples": 2126
      },
      "SALE_RETURN": {
        "credit_top1": 1.0,
        "credit_top3": 1.0,
        "debit_top1": 1.0,
        "debit_top3": 1.0,
        "examples": 396
      },
      "WRITE_OFF": {
        "credit_top1": 0.0,
        "credit_top3": 0.0,
        "debit_top1": 0.0,
        "debit_top3": 0.0,
        "examples": 228
      }
    },
    "credit_top1": 0.8426387218690946,
    "credit_top3": 0.8623947775296341,
    "debit_top1": 0.6275554028517437,
    "debit_top3": 0.6275554028517437,
    "examples": 5821,
    "policy_band_counts": {
      "credit:allowed": 775,
      "credit:discouraged": 3767,
      "credit:preferred": 12921,
      "debit:allowed": 3108,
      "debit:blocked": 132,
      "debit:discouraged": 1592,
      "debit:preferred": 12631
    },
    "policy_top1": {
      "credit": {
        "blocked_rate": 0.0,
        "counts": {
          "allowed": 10,
          "blocked": 0,
          "discouraged": 110,
          "preferred": 5701
        },
        "discouraged_rate": 0.018897096718776842
      },
      "debit": {
        "blocked_rate": 0.0,
        "counts": {
          "allowed": 131,
          "blocked": 0,
          "discouraged": 65,
          "preferred": 5625
        },
        "discouraged_rate": 0.011166466242913588
      },
      "examples": 5821
    }
  },
  "generated_at_utc": "2026-02-20T19:48:42.589622+00:00",
  "inputs": {
    "coa_jsonl": "/home/realnigga/Virtual-accountant-sync/erp-domain-ml-lab/outputs/tx_coa_eval_20260221_011837/coa_v1/advisory_outputs/coa_mapping_recommendations.jsonl",
    "tx_eval_json": "/home/realnigga/Virtual-accountant-sync/erp-domain-ml-lab/outputs/tx_coa_eval_20260221_011837/transaction_v2/advisory_outputs/eval_snapshot_v2.json",
    "tx_jsonl": "/home/realnigga/Virtual-accountant-sync/erp-domain-ml-lab/outputs/tx_coa_eval_20260221_011837/transaction_v2/advisory_outputs/transaction_classifications_v2.jsonl"
  },
  "schema_version": "v0",
  "snapshot_dir": "/home/realnigga/Virtual-accountant-sync/erp-domain-ml-lab/snapshots/benchmark_tx_coa_snapshot",
  "topk": 3,
  "truth_records": 6000,
  "tx": {
    "accuracy": 0.9071666666666667,
    "accuracy_ppm": 907167,
    "by_family": {
      "cogs": {
        "accuracy": 1.0,
        "examples": 299
      },
      "inventory_count": {
        "accuracy": 1.0,
        "examples": 234
      },
      "payment": {
        "accuracy": 0.632295719844358,
        "examples": 1028
      },
      "period_lock": {
        "accuracy": 0.0,
        "examples": 179
      },
      "purchase": {
        "accuracy": 1.0,
        "examples": 1510
      },
      "sale": {
        "accuracy": 1.0,
        "examples": 2522
      },
      "write_off": {
        "accuracy": 1.0,
        "examples": 228
      }
    },
    "by_label": {
      "COGS": {
        "accuracy": 1.0,
        "examples": 299
      },
      "INVENTORY_COUNT": {
        "accuracy": 1.0,
        "examples": 234
      },
      "PAYMENT": {
        "accuracy": 0.632295719844358,
        "examples": 1028
      },
      "PERIOD_LOCK": {
        "accuracy": 0.0,
        "examples": 179
      },
      "PURCHASE": {
        "accuracy": 1.0,
        "examples": 1510
      },
      "SALE": {
        "accuracy": 1.0,
        "examples": 2126
      },
      "SALE_RETURN": {
        "accuracy": 1.0,
        "examples": 396
      },
      "WRITE_OFF": {
        "accuracy": 1.0,
        "examples": 228
      }
    },
    "confusion": {
      "COGS": {
        "COGS": 299
      },
      "INVENTORY_COUNT": {
        "INVENTORY_COUNT": 234
      },
      "PAYMENT": {
        "PAYMENT": 650,
        "PAYROLL": 77,
        "SALE": 36,
        "SALE_RETURN": 47,
        "SETTLEMENT_SPLIT": 218
      },
      "PERIOD_LOCK": {
        "PAYMENT": 179
      },
      "PURCHASE": {
        "PURCHASE": 1510
      },
      "SALE": {
        "SALE": 2126
      },
      "SALE_RETURN": {
        "SALE_RETURN": 396
      },
      "WRITE_OFF": {
        "WRITE_OFF": 228
      }
    },
    "examples": 6000
  },
  "tx_eval_snapshot": {
    "calibration": {
      "bins": 10,
      "calibration_id": "e10595c2f81cd4dd7b0e5122fab5f84965d05e1ff3bb4788e94d7efc630226d2",
      "calibration_sha256": "b8e953807dbfb7ecfc8012fc258b9d4bba016609222b125344750f81fd0915ed",
      "ece": "0.035567",
      "ece_ppm": 35567,
      "histogram": [
        {
          "count": 0,
          "range": "0.00-0.10"
        },
        {
          "count": 103,
          "range": "0.10-0.20"
        },
        {
          "count": 0,
          "range": "0.20-0.30"
        },
        {
          "count": 0,
          "range": "0.30-0.40"
        },
        {
          "count": 0,
          "range": "0.40-0.50"
        },
        {
          "count": 0,
          "range": "0.50-0.60"
        },
        {
          "count": 0,
          "range": "0.60-0.70"
        },
        {
          "count": 0,
          "range": "0.70-0.80"
        },
        {
          "count": 0,
          "range": "0.80-0.90"
        },
        {
          "count": 501,
          "range": "0.90-1.00"
        }
      ],
      "reliability_curve": [
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.00-0.10"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.178730",
          "count": 103,
          "range": "0.10-0.20"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.20-0.30"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.30-0.40"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.40-0.50"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.50-0.60"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.60-0.70"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.70-0.80"
        },
        {
          "accuracy_ppm": 0,
          "avg_confidence": "0.000000",
          "count": 0,
          "range": "0.80-0.90"
        },
        {
          "accuracy_ppm": 1000000,
          "avg_confidence": "0.993865",
          "count": 501,
          "range": "0.90-1.00"
        }
      ],
      "source": "stored",
      "temperature": "0.950000"
    },
    "overall": {
      "accuracy_ppm": 907167,
      "confusion": {
        "COGS": {
          "COGS": 299
        },
        "INVENTORY_COUNT": {
          "INVENTORY_COUNT": 234
        },
        "PAYMENT": {
          "PAYMENT": 650,
          "PAYROLL": 77,
          "SALE": 36,
          "SALE_RETURN": 47,
          "SETTLEMENT_SPLIT": 218
        },
        "PERIOD_LOCK": {
          "PAYMENT": 179
        },
        "PURCHASE": {
          "PURCHASE": 1510
        },
        "SALE": {
          "SALE": 2126
        },
        "SALE_RETURN": {
          "SALE_RETURN": 396
        },
        "WRITE_OFF": {
          "WRITE_OFF": 228
        }
      },
      "correct": 5443,
      "examples": 6000
    },
    "threshold_stats": {
      "0.800000": {
        "auto_accept_accuracy_ppm": 984027,
        "auto_accept_error_rate_ppm": 15973,
        "auto_accept_rate_ppm": 876500,
        "auto_accepted": 5259,
        "by_true_label": {
          "COGS": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 299,
            "examples": 299,
            "review": 0
          },
          "INVENTORY_COUNT": {
            "auto_accept_rate_ppm": 8547,
            "auto_accepted": 2,
            "examples": 234,
            "review": 232
          },
          "JOURNAL_ADJUSTMENT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "OPENING_BALANCE": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "PAYMENT": {
            "auto_accept_rate_ppm": 678988,
            "auto_accepted": 698,
            "examples": 1028,
            "review": 330
          },
          "PAYROLL": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "PERIOD_LOCK": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 179,
            "review": 179
          },
          "PURCHASE": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 1510,
            "examples": 1510,
            "review": 0
          },
          "SALE": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 2126,
            "examples": 2126,
            "review": 0
          },
          "SALE_RETURN": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 396,
            "examples": 396,
            "review": 0
          },
          "SETTLEMENT_SPLIT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "TAX_SETTLEMENT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "WRITE_OFF": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 228,
            "examples": 228,
            "review": 0
          }
        },
        "review": 741,
        "review_rate_ppm": 123500
      },
      "0.900000": {
        "auto_accept_accuracy_ppm": 982308,
        "auto_accept_error_rate_ppm": 17692,
        "auto_accept_rate_ppm": 791333,
        "auto_accepted": 4748,
        "by_true_label": {
          "COGS": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 299,
            "review": 299
          },
          "INVENTORY_COUNT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 234,
            "review": 234
          },
          "JOURNAL_ADJUSTMENT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "OPENING_BALANCE": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "PAYMENT": {
            "auto_accept_rate_ppm": 474708,
            "auto_accepted": 488,
            "examples": 1028,
            "review": 540
          },
          "PAYROLL": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "PERIOD_LOCK": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 179,
            "review": 179
          },
          "PURCHASE": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 1510,
            "examples": 1510,
            "review": 0
          },
          "SALE": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 2126,
            "examples": 2126,
            "review": 0
          },
          "SALE_RETURN": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 396,
            "examples": 396,
            "review": 0
          },
          "SETTLEMENT_SPLIT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "TAX_SETTLEMENT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "WRITE_OFF": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 228,
            "examples": 228,
            "review": 0
          }
        },
        "review": 1252,
        "review_rate_ppm": 208667
      },
      "0.950000": {
        "auto_accept_accuracy_ppm": 980170,
        "auto_accept_error_rate_ppm": 19830,
        "auto_accept_rate_ppm": 706000,
        "auto_accepted": 4236,
        "by_true_label": {
          "COGS": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 299,
            "review": 299
          },
          "INVENTORY_COUNT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 234,
            "review": 234
          },
          "JOURNAL_ADJUSTMENT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "OPENING_BALANCE": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "PAYMENT": {
            "auto_accept_rate_ppm": 197471,
            "auto_accepted": 203,
            "examples": 1028,
            "review": 825
          },
          "PAYROLL": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "PERIOD_LOCK": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 179,
            "review": 179
          },
          "PURCHASE": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 1510,
            "examples": 1510,
            "review": 0
          },
          "SALE": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 2126,
            "examples": 2126,
            "review": 0
          },
          "SALE_RETURN": {
            "auto_accept_rate_ppm": 1000000,
            "auto_accepted": 396,
            "examples": 396,
            "review": 0
          },
          "SETTLEMENT_SPLIT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "TAX_SETTLEMENT": {
            "auto_accept_rate_ppm": 0,
            "auto_accepted": 0,
            "examples": 0,
            "review": 0
          },
          "WRITE_OFF": {
            "auto_accept_rate_ppm": 4386,
            "auto_accepted": 1,
            "examples": 228,
            "review": 227
          }
        },
        "review": 1764,
        "review_rate_ppm": 294000
      }
    }
  },
  "workflow_families": {
    "cogs": {
      "coa_credit_top1": 0.0,
      "coa_credit_top3": 0.0,
      "coa_debit_top1": 1.0,
      "coa_debit_top3": 1.0,
      "coa_policy_credit_top1_blocked_rate": 0.0,
      "coa_policy_credit_top1_discouraged_rate": 0.0,
      "coa_policy_debit_top1_blocked_rate": 0.0,
      "coa_policy_debit_top1_discouraged_rate": 0.0,
      "examples_coa": 299,
      "examples_tx": 299,
      "tx_accuracy": 1.0
    },
    "inventory_count": {
      "coa_credit_top1": 0.0,
      "coa_credit_top3": 0.0,
      "coa_debit_top1": 0.0,
      "coa_debit_top3": 0.0,
      "coa_policy_credit_top1_blocked_rate": 0.0,
      "coa_policy_credit_top1_discouraged_rate": 0.0,
      "coa_policy_debit_top1_blocked_rate": 0.0,
      "coa_policy_debit_top1_discouraged_rate": 0.0,
      "examples_coa": 234,
      "examples_tx": 234,
      "tx_accuracy": 1.0
    },
    "payment": {
      "coa_credit_top1": 0.8492217898832685,
      "coa_credit_top3": 0.9610894941634242,
      "coa_debit_top1": 0.8093385214007782,
      "coa_debit_top3": 0.8093385214007782,
      "coa_policy_credit_top1_blocked_rate": 0.0,
      "coa_policy_credit_top1_discouraged_rate": 0.05933852140077821,
      "coa_policy_debit_top1_blocked_rate": 0.0,
      "coa_policy_debit_top1_discouraged_rate": 0.0632295719844358,
      "examples_coa": 1028,
      "examples_tx": 1028,
      "tx_accuracy": 0.632295719844358
    },
    "period_lock": {
      "coa_credit_top1": 0.0,
      "coa_credit_top3": 0.0,
      "coa_debit_top1": 0.0,
      "coa_debit_top3": 0.0,
      "coa_policy_credit_top1_blocked_rate": 0.0,
      "coa_policy_credit_top1_discouraged_rate": 0.0,
      "coa_policy_debit_top1_blocked_rate": 0.0,
      "coa_policy_debit_top1_discouraged_rate": 0.0,
      "examples_coa": 0,
      "examples_tx": 179,
      "tx_accuracy": 0.0
    },
    "purchase": {
      "coa_credit_top1": 1.0,
      "coa_credit_top3": 1.0,
      "coa_debit_top1": 0.0,
      "coa_debit_top3": 0.0,
      "coa_policy_credit_top1_blocked_rate": 0.0,
      "coa_policy_credit_top1_discouraged_rate": 0.0,
      "coa_policy_debit_top1_blocked_rate": 0.0,
      "coa_policy_debit_top1_discouraged_rate": 0.0,
      "examples_coa": 1510,
      "examples_tx": 1510,
      "tx_accuracy": 1.0
    },
    "sale": {
      "coa_credit_top1": 1.0,
      "coa_credit_top3": 1.0,
      "coa_debit_top1": 1.0,
      "coa_debit_top3": 1.0,
      "coa_policy_credit_top1_blocked_rate": 0.0,
      "coa_policy_credit_top1_discouraged_rate": 0.0,
      "coa_policy_debit_top1_blocked_rate": 0.0,
      "coa_policy_debit_top1_discouraged_rate": 0.0,
      "examples_coa": 2522,
      "examples_tx": 2522,
      "tx_accuracy": 1.0
    },
    "write_off": {
      "coa_credit_top1": 0.0,
      "coa_credit_top3": 0.0,
      "coa_debit_top1": 0.0,
      "coa_debit_top3": 0.0,
      "coa_policy_credit_top1_blocked_rate": 0.0,
      "coa_policy_credit_top1_discouraged_rate": 0.2149122807017544,
      "coa_policy_debit_top1_blocked_rate": 0.0,
      "coa_policy_debit_top1_discouraged_rate": 0.0,
      "examples_coa": 228,
      "examples_tx": 228,
      "tx_accuracy": 1.0
    }
  }
}